% ============================================================================================
% ======= 1ere et 4eme de couverture
% ============================================================================================

\newcommand{\myAuthorName}{Sébastien LOZANO}

\newcommand{\myAuthorSchoolName}{Collège Jean Lurçat 54390 FROUARD}

\newcounter{postCurrentSchoolYear}
\setcounter{postCurrentSchoolYear}{\the\year}
\addtocounter{postCurrentSchoolYear}{1}
\newcommand{\currentSchoolYear}{Année  \the\year ~- \thepostCurrentSchoolYear}

\newcommand{\mySite}{\href{https://mathslozano.fr}{https://mathslozano.fr}}

\newcommand{\myManualName}{Master Manuel \LaTeX de \currentNiveau}

\newcommand{\myMessage}{Nom, Lieu de travail et Année courante, sont à modifier dans le fichier
./config.tex  du manuel concerné \par Ce message est à supprimer en supprimant l'appel à la commande
\textbackslash myMessage !
}

% ============================================================================================
% ======= Sommaire
% ============================================================================================

% Pour pouvoir séparer la numérotation des chapitres en fonction des parties
% Important pour que les liens cliquables du sommaire renvoient au bon endroit
\counterwithin*{chapter}{part}

% En prévision de l'application d'un style particulier
% pour les parties dans le sommaire
% #1 --> couleur
% #2 --> texte
\newcommand{\myTocFrame}[2]{%
    \addtocontents{toc}{
        \vspace{1cm}
        \begin{cadre}[#1][#1!50]
            \begin{center}
                #2
            \end{center}
        \end{cadre}
    }
}

% ============================================================================================
% Factorisation de commandes
% ============================================================================================

%==========================================
% Gestion enigmes/recreation
%==========================================
% Pour pouvoir numéroter les énigmes quand on en met plusieurs
% dans la section \recreation
\newcommand{\numeroteEnigme}{
    \begin{pspicture}(0,0)(\ExerciceNumFrameWidth,\ExerciceNumFrameHeight)
        \psframe*[linewidth=0pt,
                  linecolor=LibreExerciceNumFrameColor]
                 (0,-\ExerciceNumFrameDepth)
                 (\ExerciceNumFrameWidth,\ExerciceNumFrameHeight)
      \rput[B](\dimexpr\ExerciceNumFrameWidth/2,0){%
        \textcolor{LibreExerciceNumColor}{\ExerciceNumFont \theexercice}%
      }
  \end{pspicture}  
}

%==========================================
% Gestion Glossaire
%==========================================
% ======= Il n'y a qu'un glossaire, est-ce judicieux de regrouper ici ?
% ======= Je pense que oui, question de "séparatisme" !
% Pour uniformiser les titres de l'environnement acquis
% #1 --> titre
\newcommand{\titreConnaissancesAcquis}[1]{%
  \textcolor{G1}{\textbf{#1}} :
}

% On factorise les titres des sections pour le glossaire de propriété
% #1 --> Titre principal
% #2 --> couleur
% #3 --> sous-titre
\newcommand{\sectionsGlossaireProprietes}[3]{
    \section{#1 \textcolor{#2}{#3}}
}
\newcommand{\titreSectionGlossairePropUn}{
    \sectionsGlossaireProprietes{Section 1}{A1}{texte en couleur différente}
}
\newcommand{\titreSectionGlossairePropDeux}{
    \sectionsGlossaireProprietes{Section 2}{A1}{texte en couleur différente}
}

%==========================================
% Gestion des propriétés
%==========================================

% Pour écrire (admise) pour les propriétés
\newcommand{\admise}{(admise)}

\newcommand{\admises}{(admises)}

% Pour écrire (admis) pour les théorèmes
\newcommand{\admis}{(admis)}

%==========================================
% Gestion des liens
%==========================================
\newcommand{\myUrlColorStyle}[1]{\textcolor{blue}{\underline{\bfseries #1}}}
% Pour le lien vers un exo mathaleaV2
% #1 --> Texte par défaut
% Par défaut #1 est le smiley yeux etoilés + smiley link + texte mais on peut le remplacer par la ref mathalea
% #2 --> url
\newcommand{\hrefMathalea}[2][\emoji{star-struck} \emoji{link} \myUrlColorStyle{S'entraîner sur le site} \mathaleaLogo]{
    \qrcode[hyperlink,height=0.4in]{#2}\hspace*{2mm}\href{#2}{#1}
}

% On définit le séparateur pour le paquet listofitems
\setsepchar{,}%

% Une précommande pour concaténer tous les éléments d'une liste
% #1 --> list des uuid séparés par des virgules
\newcommand{\createListOfUuid}[1]{%
	\readlist*\myTmpList{#1}%
	\xdef\listOfUuid{uuid=\myTmpList[1]}%
	\ifthenelse{\myTmpListlen > 1}{%
		\foreach \i in {2,...,\myTmpListlen}{%
			\expandafter\xdef\expandafter\listOfUuid\expandafter{\listOfUuid\&uuid=\myTmpList[\i]}%
		}%
		}{%
			\xdef\listOfUuid{uuid=\myTmpList[1]}%
		}%
}

% Pour le lien vers un exo mathaleaV3
% #1 --> Texte par défaut
% Par défaut #1 est le smiley yeux etoilés + smiley link + texte mais on peut le remplacer par la ref mathalea
% #2 --> uuid de l'exercice
\newcommand{\hrefMathaleaVIII}[2][\emoji{star-struck} \emoji{link} \myUrlColorStyle{S'entraîner sur le site} \mathaleaLogo]{
	\createListOfUuid{#2}    
    \qrcode[hyperlink,height=0.4in]{https://coopmaths.fr/alea/?\listOfUuid&v=l}\hspace*{2mm}\href{https://coopmaths.fr/alea/?\listOfUuid&v=l}{#1}
}

% Pour la géométrie, voir des constructions etc ...
% #1 --> emojis par defaut
% Par défaut #1 est emoji equerre + emoji regle + le smiley link mais cela peut être modifié
% #2 --> url
% #3 --> texte
\newcommand{\hrefConstruction}[3][\emoji{triangular-ruler} \emoji{straight-ruler} \emoji{link}]{
    \qrcode[hyperlink,height=0.4in]{#2}\hspace*{2mm}\href{#2}{#1 \myUrlColorStyle{#3}} 
}

% Pour les liens vers youtube
% #1 --> emojis par défaut
% Par défaut #1 est le movie-camera + link mais on peut le remplacer par la ref mathalea
% #2 --> url
% #3 --> texte
\newcommand{\hrefVideo}[3][\emoji{movie-camera} \emoji{link}]{
    \qrcode[hyperlink,height=0.4in]{#2}\hspace*{2mm}\href{#2}{#1 \myUrlColorStyle{#3}}
}

% Pour les liens de révision
% #1 --> emojis par defaut
% Par défaut #1 est emoji check-mark-button + link mais cela peut être modifié
% #2 --> url
% #3 --> texte
\newcommand{\hrefRevision}[3][\emoji{check-mark-button} \emoji{link}]{
    \qrcode[hyperlink,height=0.4in]{#2}\hspace*{2mm}\href{#2}{#1 \myUrlColorStyle{#3}}
}

% Pour les liens lambda
% #1 --> emojis par défaut
% Par défaut #1 est le movie-camera + link mais on peut le remplacer par la ref mathalea
% #2 --> url
% #3 --> texte
\newcommand{\hrefLien}[3][\emoji{link}]{
    \qrcode[hyperlink,height=0.4in]{#2}\hspace*{2mm}\href{#2}{#1 \myUrlColorStyle{#3}}
}
%==========================================
% Gestion des boxs
%==========================================

% Box perso, on peut l'utiliser pour les programmes de calcul
% #1 --> Contenu
% #2 --> Titre
\newtcolorbox{myBox}[2][]{
    enhanced,
    boxsep=1mm,
    bottom=.75mm,
    boxrule=2pt,
    text width=0.75\linewidth,
    colframe=gray,
    colback=gray!20,
    colbacktitle=white,
    fonttitle=\bfseries\color{black},
    halign upper=center,
    attach boxed title to top center={yshift=-2mm},
    title={#2},#1
}

% Patch pour pouvoir redefinir un compteur via \setlist
% Necessaire pour la commande \ProgCalcul du paquet profcollege
\let\enumerateold\enumerate
\let\endenumerateold\endenumerate
% #1 --> titre
\newcommand{\myTCBset}[1]{
    \tcbset{ProgCalcul/.style={%
    enhanced,
    boxsep=1mm,
    bottom=.75mm,
    boxrule=2pt,
    text width=0.75\linewidth,
    colframe=gray,
    colback=gray!20,
    colbacktitle=white,
    fonttitle=\bfseries\color{black},
    halign upper=center,
    attach boxed title to top center={yshift=-2mm},
    title={#1},
    }%
    }%   
}
% Un programme de calcul encadré
% #1 --> label 
% #2 --> titre
% #3 --> Commande \ProgCalcul du paquet ProfCollege
\newcommand{\myProgCalcul}[3]{% label, titre, commande \ProgCalcul
    \begingroup
    \let\enumerate\enumerateold
    \let\endenumerate\endenumerateold
    \setlist[enumerate]{label=#1}
    \myTCBset{#2}
    #3
    \endgroup
}

%==========================================
% Tableaux
%==========================================
% Pour l'environnement tabularx
\newcolumntype{C}{>{\centering}X}

%==========================================
% Couleurs
%==========================================
\definecolor{mygreen}{rgb}{0.0, 0.5, 0.0}

%==========================================
% Notations 
%==========================================
% Notation des arcs de cercle
\def\wideparen#1{\overset{\;\rotatebox{90}{)}}{#1}}

%==========================================
% Gestion des exemples, remarques, preuves
%==========================================
\newcommand{\titreExemple}[1]{
    {\color{red}\bfseries #1}
}
\newcommand{\titreRemarque}[1]{
    {\color{RemTitleColor}\bfseries #1}
}

\newcommand{\titrePreuve}[1]{
    {\color{ProofTitleColor}\bfseries #1}
}

%==========================================
% Textes répétitifs
%==========================================
%====Pour renvoyer vers des compléments numériques
% #1 --> Paramètre à passer, singulier ou pluriel en minuscules
\newcommand{\infoComplementsNumeriques}[1]{
    \ifthenelse{\equal{#1}{singulier}}{\emoji{face-with-monocle} \textbf{Complément numérique}}{%
        \ifthenelse{\equal{#1}{pluriel}}{\emoji{face-with-monocle} \textbf{Compléments numériques}}{%
            \textbf{#1}
        }
    }
}
%==========================================
% Gestion des crédits
%==========================================
% Pour avoir une note de bas de page sans marque en utilisant \footnotetext !
\makeatletter
    \def\blfootnote{\gdef\@thefnmark{}\@footnotetext}
\makeatother

% InstrumentPoche
\newcommand{\creditInstrumentPoche}{
    \blfootnote{Source : Animations InstrumentPoche association Sésamath}
}

% Geogebra
% #1 --> Auteur
\newcommand{\creditGeogebra}[1]{
    \blfootnote{Source : D'après une appliquette Geogebra de #1}
}

% Cahiers Iparcours
% #1 --> Année
% #2 --> Niveau
\newcommand{\creditCahiersIparcours}[2]{
    \blfootnote{Source : Fiches tirées du cahier iParcours #1 de #2}
}

% Manuels Iparcours
% #1 --> Niveau
\newcommand{\creditManuelsIparcours}[1]{
    \blfootnote{Source : Exercices tirés du manuel iParcours de #1}
}

% Cahiers Sesamath
% #1 --> Année
% #1 --> Niveau
\newcommand{\creditCahiersSesamath}[2]{
    \blfootnote{Source : Fiches tirées du cahier Sésamath #1 de #2}
}

% Manuels Sesamath
% #1 --> Niveau
\newcommand{\creditManuelsSesamath}[1]{
    \blfootnote{Source : Exercices tirés du manuel Sésamath de #1}
}

% Libre
% #1 --> texte
\newcommand{\creditLibre}[1]{
    \blfootnote{Source : #1}
}

% Macro pour entourer les opérandes
% #1 --> 
% #2 --> 
% #3 --> 
\newcommand{\OPoval}[3]{\dimen1=#2\opcolumnwidth \ovalnode{#1}{\kern\dimen1 #3\kern\dimen1}}

%==========================================
% Instruments de géométrie
%==========================================
% Equerre - commande de Nathalie DAVAL
% #1 --> 
% #2 --> 
% #3 --> 
% #4 --> 
\newcommand{\equerre}[4]
   {\scalebox{#4}
      {\rput{#3}(#1,#2)      
         {\pspolygon[linecolor=B1](0,0)(1,0)(0,1.8)
          \pspolygon[linecolor=B1](0.2,0.2)(0.65,0.2)(0.2,1)
          \multido{\r=0+0.1}{17}{\psline[linecolor=red,linewidth=0.01](0,\r)(0.075,\r)}
          }
       }      
   }
% COMPAS - commande de Nathalie DAVAL
% #1 --> 
% #2 --> 
% #3 --> 
% #4 --> 
% #5 --> 
\newcommand{\compas}[5]%
{\psset{fillstyle=solid,fillcolor=gray!20}
\scalebox{#4}
    {\rput{#3}(#1,#2)      
        {\psframe(-0.1,3.6)(0.1,4)
        \rput{-#5}(-0.1,3){\psframe(-0.1,-2.4)(0.1,0.1)
                                    \psline[fillcolor=gray!60](-0.05,-2.4)(0,-3)(0.05,-2.4)}
        \rput{#5}(0.1,3){\psframe(-0.1,-2.4)(0.1,0.1)
                                \pspolygon[fillcolor=gray](-0.05,-2.4)(-0.05,-2.95)(0.05,-2.7)(0.05,-2.4)}
        \psframe[fillcolor=gray!40](-0.25,3)(0.25,3.6)
        \pscircle(0,3.3){0.1}
        }
    }      
}

% Piece de curvica - commande de Nathalie DAVAL
% #1 --> 
\def\curvica#1{
\begin{pspicture}(-1,-0.25)(3,2.5)
   #1
   \psset{linewidth=0.4mm,linestyle=dotted} %Curvica vierge
   \psframe(0,0)(2,2)
   \psarc(1,4){2.24}{-116.6}{-63.4}
   \psarc(1,0){2.24}{63.4}{116.6}
   \psarc(1,2){2.24}{-116.6}{-63.4}
   \psarc(1,-2){2.24}{63.4}{116.6}
   \psarc(4,1){2.24}{153.4}{-153.4}
   \psarc(0,1){2.24}{-26.6}{26.6}
   \psarc(2,1){2.24}{153.4}{-153.4}
   \psarc(-2,1){2.24}{-26.6}{26.6}
\end{pspicture}
}
%==========================================
% TiKz 
%==========================================
% Pavage en L dans un quadrillage 8x8
\newcommand{\pavageL}{%
    \foreach \a in {0,-2,-4}{%
        \draw[shift={(\a,-\a)}] (14,0) -- (14,2) -- (16,2) -- (16,4) -- (12,4) -- (12,0) -- cycle;
        \draw[shift={(\a,-\a)}] (15,2) -- (15,3) -- (13,3) -- (13,1) -- (14,1);
        \draw[shift={(\a,-\a)}] (12,2) -- (13,2);
        \draw[shift={(\a,-\a)}] (14,3) -- (14,4);
        \draw[shift={(\a,-\a)}] (14,0) -- (15,0) -- (15,1) -- (16,1) -- (16,2);
    }
    \foreach \a in {0}{%
        \draw[shift={(\a,-\a)},rotate around={90:(12,0)}] (14,0) -- (14,2) -- (16,2) -- (16,4) -- (12,4) -- (12,0) -- cycle;
        \draw[shift={(\a,-\a)},rotate around={90:(12,0)}] (15,2) -- (15,3) -- (13,3) -- (13,1) -- (14,1);
        \draw[shift={(\a,-\a)},rotate around={90:(12,0)}] (12,2) -- (13,2);
        \draw[shift={(\a,-\a)},rotate around={90:(12,0)}] (14,3) -- (14,4);
        \draw[shift={(\a,-\a)},rotate around={90:(12,0)}] (14,0) -- (15,0) -- (15,1) -- (16,1) -- (16,2);
    }
    \foreach \a in {0}{%
        \draw[shift={(\a,-\a)},rotate around={-90:(16,4)}] (14,0) -- (14,2) -- (16,2) -- (16,4) -- (12,4) -- (12,0) -- cycle;
        \draw[shift={(\a,-\a)},rotate around={-90:(16,4)}] (15,2) -- (15,3) -- (13,3) -- (13,1) -- (14,1);
        \draw[shift={(\a,-\a)},rotate around={-90:(16,4)}] (12,2) -- (13,2);
        \draw[shift={(\a,-\a)},rotate around={-90:(16,4)}] (14,3) -- (14,4);
        \draw[shift={(\a,-\a)},rotate around={-90:(16,4)}] (14,0) -- (15,0) -- (15,1) -- (16,1) -- (16,2);
    }
}

% Image d'une maille définie par des points nommés A,B,C,D,E,F par homothetie de centre O
% #1 -> ratio
% #2 -> couleur
\newcommand{\imageHomothetyHexaGone}[2]{%
    \tkzDefPointBy[homothety=center O ratio #1](A); \tkzGetPoint{Ab};
    \tkzDefPointBy[homothety=center O ratio #1](B); \tkzGetPoint{Bb};
    \tkzDefPointBy[homothety=center O ratio #1](C); \tkzGetPoint{Cb};
    \tkzDefPointBy[homothety=center O ratio #1](D); \tkzGetPoint{Db};
    \tkzDefPointBy[homothety=center O ratio #1](E); \tkzGetPoint{Eb};
    \tkzDefPointBy[homothety=center O ratio #1](F); \tkzGetPoint{Fb};
    \draw[color=#2,fill=#2,fill opacity=0.5] (Ab) -- (Bb) -- (Cb) -- (Db) -- (Eb) -- (Fb) -- cycle;
}

% Pavage en losanges dans un quadrillage mxn
% #1 -> longueur du pavage en abscisse
% #2 -> longueur du pavage en ordonnée
\newcommand{\pavageLosange}[2]{%
  \foreach \i in {1,...,#2}{%
    \begin{scope}[shift={(\i-1,\i*1.73-1.73)}]
        \foreach \j in {1,...,#1}{%
            \draw[shift={(\j*2-2,0)}] (0,0) -- (2, 0) -- (3, 1.73) -- (1, 1.73) -- cycle;
        }
    \end{scope}
  }
}

% Image d'une maille définie par des points nommés A,B,C,D,E,F par homothetie de centre O
% #1 -> ratio
% #2 -> couleur
\newcommand{\imageHomothetyParallelogramme}[2]{%
    \tkzDefPointBy[homothety=center O ratio #1](A); \tkzGetPoint{Ab};
    \tkzDefPointBy[homothety=center O ratio #1](B); \tkzGetPoint{Bb};
    \tkzDefPointBy[homothety=center O ratio #1](C); \tkzGetPoint{Cb};
    \tkzDefPointBy[homothety=center O ratio #1](D); \tkzGetPoint{Db};
    \draw[color=#2,fill=#2,fill opacity=0.5] (Ab) -- (Bb) -- (Cb) -- (Db) -- cycle;
}

% Axe Gradué
% #1 -> abscisse de O
% #2 -> abscisse de M
\newcommand{\axeHomothety}[2]{%
    \draw[help lines, color=black!30] (0,0) grid (18,2);            
    % Axe
    \draw (0,1)--(18,1);
    \foreach \x in {0,...,18} \draw (\x,0.9) -- (\x,1.1);
    % Points
    \coordinate (O) at (#1,1);
    \coordinate (M) at (#2,1);    
    % Marques
    \tkzDrawPoints[shape=cross out, size=5pt](O,M);
    \tkzLabelPoints[above](O,M);    
}

% Image d'un point nommé M par homothetie de centre O
% #1 -> ratio
% #2 -> couleur
\newcommand{\imageHomothetyPoint}[2][black]{%
    \tkzDefPointBy[homothety=center O ratio #2](M); \tkzGetPoint{M1};            
    % Marques
    \tkzDrawPoints[shape=cross out, size=5pt,color=#1](M1);    
    \tkzLabelPoint[above,color=#1](M1){$M_1$};
}

% Quadrillage à mailles carrées mxn
% #1 -> couleur : facultive black!30 par défaut
% #2 -> nombre de carreaux en abscisse
% #3 -> nombre de carreaux en ordonnée
\newcommand{\quadrilageMailleCarree}[3][black!30]{%
    \draw[help lines, color=#1] (0,0) grid (#2,#3);
}

% Papier millimétré
% #1 -> couleur : facultative, brown par défaut
\newcommand{\papierMillimetre}[1][brown]{
    \begin{pgfonlayer}{background}
        \draw[step=1mm,ultra thin,#1!30] (current bounding box.south west) grid (current bounding box.north east);
        \draw[step=5mm,very thin,#1!50] (current bounding box.south west) grid (current bounding box.north east);
        \draw[step=1cm,thin,#1!70] (current bounding box.south west) grid (current bounding box.north east);
        \draw[step=5cm,thick,#1!90] (current bounding box.south west) grid (current bounding box.north east);
    \end{pgfonlayer}
}

% Machine maths
% #1 --> nom de la fonction
% #2 --> Texte procédé de calcul sur deux lignes
% #3 --> Texte antécédent sur deux lignes
% #4 --> Texte image sur deux lignes
\newcommand{\machineMaths}[4]{
    \begin{tikzpicture}[line cap=round,line join=round,>=triangle 45,x=1cm,y=1cm]
        % Avant cadre
        \fill [line width=3pt,color=J1] (-6,2.5) -- (-6.5,1.5) -- (-5.5,2.5) -- (-6.5,3.5) -- cycle;
        \draw [line width=3pt,color=J1] (-5,2.9)-- (-5,2.1);
        \draw [line width=3pt,color=J1] (-4,2.5)-- (-5,2.5);                
        % Cadre
        \draw [line width=3pt,color=J1] (-4,4)-- (2,4) -- (2,1) -- (-4,1) -- cycle;
        % Après cadre
        \draw [->,line width=3pt,color=J1] (2,2.5) -- (3,2.5);
        \fill [line width=3pt,color=J1] (3.5,2.5) -- (3,1.5) -- (4,2.5) -- (3,3.5) -- cycle;
        % Textes
        \node[text width=3cm,text centered, scale=1.8] at (-1,3.5){\textbf{machine #1}};
        \node[text width=3cm,text centered, scale=1.5] at (-1,2.8){\textbf{---}};
        \node[text width=3cm,text centered, scale=1.5] at (-1,2){#2};
        \node[text width=3cm,text centered, scale=1.5] at (-8,2.5) {#3};
        \node[text width=3cm,text centered, scale=1.5] at (6,2.5) {#4};
    \end{tikzpicture}
}

% Figure avec carrés périphériques théorème de Pythagore

\newcommand{\figCarresPythagore}[7]{%
    % #1 scale
    % #2 PetiteLongueur
    % #3 MoyenneLongueur
    % #4 GrandeLongueur
    % #5 PetiteAire
    % #6 MoyenneAire
    % #7 GrandeAire
    \begin{tikzpicture}[scale=#1]
        % On crée le triangle
        \coordinate (A) at (1,1);
        \coordinate (B) at (6,1);
        \tkzInterCC[R](A,4)(B,3);
        \tkzGetFirstPoint{C};
        \draw[fill=gray!30] (A)--(B)--(C)--cycle;
        \tkzMarkRightAngles[size=0.3](A,C,B);
        % On construit les carrés sur les côtés
        \tkzDefSquare(B,A)\tkzGetPoints{E}{F};
        \tkzDrawPolygon(B,A,E,F);
        \tkzDefSquare(C,B)\tkzGetPoints{G}{H};
        \tkzDrawPolygon(C,B,G,H);
        \tkzDefSquare(A,C)\tkzGetPoints{I}{J};
        \tkzDrawPolygon(A,C,I,J);
        % On ajoute les labels de longueurs
        \tkzLabelSegment[auto,sloped,below](A,B){#4};
        \tkzLabelSegment[auto,sloped](B,C){#2};
        \tkzLabelSegment[auto,sloped](C,A){#3};
        % On ajoute les aires
        \tkzLabelSegment[yshift=3mm](A,F){#7};
        \tkzLabelSegment[yshift=5mm](B,H){#5};
        \tkzLabelSegment[xshift=-3mm,yshift=3mm](C,J){#6};
    \end{tikzpicture}
}

% Spirale d'arichmede et décimales de pi
% #1 -> facteur d'échelle, par défaut 2
% http://trucsmaths.free.fr/images/pi/pi2400.htm
\newcommand{\spiraleArchimedePi}[1][2]{
    \begin{tikzpicture}[decoration={text effects along path,
        text={{\red 3},141 592 653 589 793 238 462 643 383 279 502 884 197 169 399 375 105 820 974 944 592 307 816 406 286 208 998 628 034 825 342 117 067 982 148 086 513 282 306 647 093 844 609 550 582 231 725 359 408 128 481 117 450 284 102 701 938 521 105 559 644 622 948 954 930 381 964 428 810 975 665 933 446 128 475 648 233 786 783 165 271 201 909 145 648 566 923 460 348 610 454 326 648 213 393 607 260 249 141 273 724 587 006 606 315 588 174 881 520 920 962 829 254 091 715 364 367 892 590 360 011 330 530 548 820 466 521 384 146 951 941 511 609 433 057 270 365 759 591 953 092 186 117 381 932 611 793 105 118 548 074 462 379 962 749 567 351 885 752 724 891 227 938 183 011 949 129 833 673 362 440 656 643 086 021 394 946 395 224 737 190 702 179 860 943 702 770 539 217 176 293 176 752 384 674 818 467 669 405 132 000 568 127 145 263 560 827 785 771 342 757 789 609 173 637 178 721 468 440 901 224 953 430 146 549 585 371 050 792 279 689 258 923 542 019 956 112 129 021 960 864 034 418 159 \ },
        text effects/.cd,
        %repeat text,
        %character count=\m, character total=\n,
        %characters={text along path, scale=0.5+\m/\n/2}}]
        characters={text along path}},
        scale=#1]
        \path [draw=gray, ultra thin, postaction=decorate]
        (180:2) \foreach \a in {0,...,12}{ arc (180-\a*90:90-\a*90:1.5-\a/10) };
        \coordinate[label=below:{\fontsize{60}{60}\selectfont\bfseries $\pi$}] (pi) at (-0.3,0.3);
    \end{tikzpicture}
}

% Grid isometrique
% #1 -> couleur de la grid, black!30 par défaut
% #2 -> nombre d'unités en abscisse
% #3 -> nombre de double-unités en ordonnée
\newcommand{\isometricGrid}[3][black!30]{%
    \def\nx{#2}
    \pgfmathsetmacro\nxx{\nx-1}
    \def\ny{#3} 

    \draw[color=#1] (0,0) -- (\nx +1,0);
    \foreach \j in {0,...,\ny} {
        \foreach \i in {0,...,\nx} {
            \draw[color=#1](0:\i)++(60:\j) ++(120:\j)--++(60:2)--++(-1,0)--++(-60:1)--++(-60:1);
        }
        \foreach \i in {0,...,\nxx} {
            \draw[color=#1](0:\i+0.5)++(90:{(1+2*\j)*sin(60)})--++(1,0);
        }
    }
}

% Grid pointée isometrique
% #1 -> nombre d'unités en abscisse
% #2 -> nombre de double-unités en ordonnée
\newcommand{\isometricPointGrid}[2]{%
    \def\nx{#1}
    \pgfmathsetmacro\nxx{\nx-1}
    \def\ny{#2} 

    \foreach \j in {0,...,\ny} {
        \foreach \i in {0,...,\nx} {
            \fill(0:\i)++(60:\j) ++(120:\j)  circle (0.05) node {} ++(60:2) circle (0.05) node {} ++(-1,0) circle (0.05) node {} ++(-60:1) circle (0.05) node {} ++(-60:1) circle (0.05) node {};
        }
        \foreach \i in {0,...,\nxx} {
            \fill(0:\i+0.5)++(90:{(1+2*\j)*sin(60)})++(1,0);
        }
    }
}

%==========================================
% Metapost
%==========================================
\newcommand{\myMetapostGreen}{
    (0,0.5,0)
}
\newcommand{\enonceTroisiemeGTroisExoNeuf}{
    pair O,A,L,M,N;
    path cc;
    L=u*(5.5,4.5);
    cc=cercles(L,u);
    M=pointarc(cc,0);
    N=pointarc(cc,90);
    O=u*(3.5,3);
    A=u*(6,3);
    marque_p:="croix";
    pointe(O,A);
    label.top(btex $O$ etex,O);
    label.urt(btex $A$ etex,A);
    trace cercles(O,A);
    drawarrow arccercle(M,N,L);
    label.llft(btex $(\mathcal{C})$ etex, pointarc(cercles(O,A),220));
}

\newcommand{\enonceTroisiemeGTroisExoDix}{
    pair O,A,B,C,D,E;
    O=u*(3.5,3);
    A=u*(6,3);
    B = rotation(A,O,75);
    C = rotation(B,O,75);
    D = rotation(C,O,75);
    E = rotation(D,O,75);
    marque_p:="croix";
    pointe(O,A,B,C,D,E);
    trace cercles(O,A);
    label.lrt(btex $O$ etex, O);
    label.urt(btex $A$ etex, A);
    label.top(btex $B$ etex, B);
    label.ulft(btex $C$ etex, C);
    label.bot(btex $D$ etex, D);
    label.lrt(btex $E$ etex, E);
    label.lft(btex $(\mathcal{C})$ etex, pointarc(cercles(O,A),210));
    pair AA,BB,CC,DD,EE;
    AA = rotation(A,O,70);    
    DD = rotation(D,O,70);
    BB = rotation(B,O,-45);
    CC = rotation(C,O,-45);
    EE = rotation(E,O,-45);
    path cc;
    cc = cercles(O,.5*u);  
}

\newcommand{\enonceTroisiemeGTroisExoOnze}{
    trace grille(0.5) withcolor white;
    marque_p:="croix";
    %labeloffset:=labeloffset*1.5;
    pair O,A,B,C,D;
    O=u*(5,3);
    pointe(O);
    label.lrt(btex $O$ etex,O);
    A=u*(5,5);
    B=u*(4,3.5);
    C=u*(2,3);
    D=u*(1,5);        
    picture quadrilatereABCD;
    quadrilatereABCD = image ( 
        trace polygone(A,B,C,D);    
    );
    trace quadrilatereABCD;    
    label.urt(btex $A$ etex,A);
    label.lrt(btex $B$ etex,B);
    label.llft(btex $C$ etex,C);
    label.ulft(btex $D$ etex,D);
}

\newcommand{\enonceTroisiemeGTroisExoDouze}{
    trace grille(0.5) withcolor white;
    marque_p:="croix";
    %labeloffset:=labeloffset*1.5;
    pair O,A,B,C;
    O=u*(4,4);
    A=u*(1,1);
    B=u*(4,1);
    C=u*(2,3);        
    picture triangleABC;
    triangleABC = image ( 
        trace polygone(A,B,C);    
    );
    pair AA,BB,CC;
    AA=rotation(A,O,120);
    BB=rotation(B,O,120);
    CC=rotation(C,O,120);
    trace triangleABC;    
    trace rotation(triangleABC,O,120);
    label.llft(btex $A$ etex,A);
    label.lrt(btex $B$ etex,B);
    label.top(btex $C$ etex,C);
    label.rt(btex $A_1$ etex,AA);
    label.top(btex $B_1$ etex,BB);
    label.bot(btex $C_1$ etex,CC);
}
\newcommand{\enonceTroisiemeGTroisExoTreize}{
    trace grille(0.5) withcolor white;
    marque_p:="croix";
    %labeloffset:=labeloffset*1.5;
    path cc;        
    pair O,A,B,C,D,E;
    O=u*(4.5,2.5);
    cc = cercles(O,1.5*u);
    A=pointarc(cc,60);
    B=pointarc(cc,180);
    C=u*(4.5,1.5);
    D=u*(6.5,3.5);
    E=u*(7.5,4.5);
    pointe(O,A,B,C,D,E);
    label.rt(btex $O$ etex,O);
    label.top(btex $A$ etex,A);
    label.lft(btex $B$ etex,B);
    label.bot(btex $C$ etex,C);
    label.lrt(btex $D$ etex,D);
    label.lrt(btex $E$ etex,E);
}

\newcommand{\enonceTroisiemeGTroisExoQuatorze}{
    %trace grille(0.5) withcolor gris;
    %labeloffset:=labeloffset*1.5;
    u:=0.2*u;
    pair A,B,C,D;
    A=u*(13,8);
    B=u*(17,8);
    C=rotation(A,B,-30);
    D=rotation(B,A,150);
    picture losange;
    losange = image (
        trace polygone(A,B,C,D);
    );
    trace losange;
    for j:=1 step 1 until 11:
        trace rotation(losange,D,-30*j);
    endfor;        
}